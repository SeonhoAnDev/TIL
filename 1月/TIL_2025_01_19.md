# 2025-01-13

## 本日のタスク
- FinConnectプロジェクト
  - UPDATE作成
  
## 学習したこと
- FinConnectプロジェクト
  - CRUD作成完了
  - フロントエンド作成、連動
  - CSRF、CORS設定
  
## 課題解決方法
- CSRF、CORSの設定による連動エラー
### CSRF (クロスサイトリクエストフォージェリ)
- **定義**: CSRFは、ユーザーが信頼するウェブサイトに対して悪意のあるリクエストを送信する攻撃です。
- **動作方式**: 攻撃者は、ユーザーが認証されたセッションを利用して悪意のあるリクエストを送信します。例えば、ユーザーがログインしている状態で攻撃者が作成したリンクをクリックすると、ユーザーの権限で望まない操作が実行される可能性があります。
- **防御方法**:
  - **CSRFトークンの使用**: 各リクエストに固有のトークンを含め、サーバーでこれを検証します。
  - **Refererヘッダーの検証**: リクエストの出所を確認し、信頼できるドメインからのリクエストのみを処理します。
  - **SameSiteクッキー属性**: クッキーが同じサイトからのみ送信されるように設定します。

### CORS (クロスオリジンリソースシェアリング)
- **定義**: CORSは、ウェブアプリケーションが他のドメインからリソースをリクエストできるようにするメカニズムです。
- **動作方式**: ブラウザは他のドメインからリソースをリクエストする際に、サーバーに事前リクエスト（Preflight Request）を送信して許可の有無を確認します。サーバーは適切なCORSヘッダーを含めて応答します。
- **CORSヘッダー**:
  - **Access-Control-Allow-Origin**: 許可されたドメインを指定します。例: `Access-Control-Allow-Origin: *`
  - **Access-Control-Allow-Methods**: 許可されたHTTPメソッドを指定します。例: `Access-Control-Allow-Methods: GET, POST, PUT, DELETE`
  - **Access-Control-Allow-Headers**: 許可されたヘッダーを指定します。例: `Access-Control-Allow-Headers: Content-Type, Authorization`
- **防御方法**:
  - **適切なCORS設定**: サーバーで必要なドメインとメソッドのみを許可するように設定します。
  - **認証情報の含有設定**: `Access-Control-Allow-Credentials`ヘッダーを使用して認証情報を含めるかどうかを設定します。

　
## 明日のタスク
- FinConnectプロジェクト
  - logging処理と例外処理追加
  - JWT認証と会員登録機能作成